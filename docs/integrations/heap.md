description: Integrate Flagsmith with Heap Analytics

# Heap Analytics Integration

<img src="/images/integrations/heap/heap-logo.svg"/>

You can integrate Flagsmith with Heap Analytics. The integration automatically sends the flag states for identified users into Heap for cohort analysis, A/B testing and more. The process is as follows:

## Integration Setup

1. Get the Heap Project Environment ID for your Heap project from the Heap Manage Project page (Account > Manage > Projects > Environment > Get ID)
2. Add the ID key into Flagsmith (Integrations > Add Heap Integration)
3. All API calls generated by the Flagsmith SDK to the `Get Identity Flags` endpoint will send the a full set of flag evaluations for that particular user to Heap as an [`Event`](https://developers.heap.io/reference#track-1)

## Use Case

Once the integration has been set up, you can start segmenting your Heap identities based on the flags that they saw. This means you can run AB tests driven by Flagsmith segments, and have the data show up automatically in Heap.

## Integration Notes

You have to identify users on both platforms in the same way. The Flagsmith `Identity ID` must be the same as the Heap `identity`.
